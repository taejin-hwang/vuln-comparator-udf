var compare = require('../src/rpm');
var expect = require("chai").expect;

describe("Sanity Tests", function() {
    it("Checks a ton", function () {
        expect(compare('1.0', '1.0')).to.equal(0);
        expect(compare('1.0', '2.0')).to.equal(-1);
        expect(compare('2.0', '1.0')).to.equal(1);
        expect(compare('2.0.1', '2.0.1')).to.equal(0);
        expect(compare('2.0', '2.0.1')).to.equal(-1);
        expect(compare('2.0.1', '2.0')).to.equal(1);
        expect(compare('2.0.1a', '2.0.1a')).to.equal(0);
        expect(compare('2.0.1a', '2.0.1')).to.equal(1);
        expect(compare('2.0.1', '2.0.1a')).to.equal(-1);
        expect(compare('5.5p1', '5.5p1')).to.equal(0);
        expect(compare('5.5p1', '5.5p2')).to.equal(-1);
        expect(compare('5.5p2', '5.5p1')).to.equal(1);
        expect(compare('5.5p10', '5.5p10')).to.equal(0);
        expect(compare('5.5p1', '5.5p10')).to.equal(-1);
        expect(compare('5.5p10', '5.5p1')).to.equal(1);
        expect(compare('10xyz', '10.1xyz')).to.equal(-1);
        expect(compare('10.1xyz', '10xyz')).to.equal(1);
        expect(compare('xyz10', 'xyz10')).to.equal(0);
        expect(compare('xyz10', 'xyz10.1')).to.equal(-1);
        expect(compare('xyz10.1', 'xyz10')).to.equal(1);
        expect(compare('xyz.4', 'xyz.4')).to.equal(0);
        expect(compare('xyz.4', '8')).to.equal(-1);
        expect(compare('8', 'xyz.4')).to.equal(1);
        expect(compare('xyz.4', '2')).to.equal(-1);
        expect(compare('2', 'xyz.4')).to.equal(1);
        expect(compare('5.5p2', '5.6p1')).to.equal(-1);
        expect(compare('5.6p1', '5.5p2')).to.equal(1);
        expect(compare('5.6p1', '6.5p1')).to.equal(-1);
        expect(compare('6.5p1', '5.6p1')).to.equal(1);
        expect(compare('6.0.rc1', '6.0')).to.equal(1);
        expect(compare('6.0', '6.0.rc1')).to.equal(-1);
        expect(compare('10b2', '10a1')).to.equal(1);
        expect(compare('10a2', '10b2')).to.equal(-1);
        expect(compare('1.0aa', '1.0aa')).to.equal(0);
        expect(compare('1.0a', '1.0aa')).to.equal(-1);
        expect(compare('1.0aa', '1.0a')).to.equal(1);
        expect(compare('10.0001', '10.0001')).to.equal(0);
        expect(compare('10.0001', '10.1')).to.equal(0);
        expect(compare('10.1', '10.0001')).to.equal(0);
        expect(compare('10.0001', '10.0039')).to.equal(-1);
        expect(compare('10.0039', '10.0001')).to.equal(1);
        expect(compare('4.999.9', '5.0')).to.equal(-1);
        expect(compare('5.0', '4.999.9')).to.equal(1);
        expect(compare('20101121', '20101121')).to.equal(0);
        expect(compare('20101121', '20101122')).to.equal(-1);
        expect(compare('20101122', '20101121')).to.equal(1);
        expect(compare('2_0', '2_0')).to.equal(0);
        expect(compare('2.0', '2_0')).to.equal(0);
        expect(compare('2_0', '2.0')).to.equal(0);
        expect(compare('a', 'a')).to.equal(0);
        expect(compare('a+', 'a+')).to.equal(0);
        expect(compare('a+', 'a_')).to.equal(0);
        expect(compare('a_', 'a+')).to.equal(0);
        expect(compare('+a', '+a')).to.equal(0);
        expect(compare('+a', '_a')).to.equal(0);
        expect(compare('_a', '+a')).to.equal(0);
        expect(compare('+_', '+_')).to.equal(0);
        expect(compare('_+', '+_')).to.equal(0);
        expect(compare('_+', '_+')).to.equal(0);
        expect(compare('+', '_')).to.equal(0);
        expect(compare('_', '+')).to.equal(0);
        expect(compare('1.0~rc1', '1.0~rc1')).to.equal(0);
        expect(compare('1.0~rc1', '1.0')).to.equal(-1);
        expect(compare('1.0', '1.0~rc1')).to.equal(1);
        expect(compare('1.0~rc1', '1.0~rc2')).to.equal(-1);
        expect(compare('1.0~rc2', '1.0~rc1')).to.equal(1);
        expect(compare('1.0~rc1~git123', '1.0~rc1~git123')).to.equal(0);
        expect(compare('1.0~rc1~git123', '1.0~rc1')).to.equal(-1);
        expect(compare('1.0~rc1', '1.0~rc1~git123')).to.equal(1);
        expect(compare('1.0^', '1.0^')).to.equal(0);
        expect(compare('1.0^', '1.0')).to.equal(1);
        expect(compare('1.0', '1.0^')).to.equal(-1);
        expect(compare('1.0^git1', '1.0^git1')).to.equal(0);
        expect(compare('1.0^git1', '1.0')).to.equal(1);
        expect(compare('1.0', '1.0^git1')).to.equal(-1);
        expect(compare('1.0^git1', '1.0^git2')).to.equal(-1);
        expect(compare('1.0^git2', '1.0^git1')).to.equal(1);
        expect(compare('1.0^git1', '1.01')).to.equal(-1);
        expect(compare('1.01', '1.0^git1')).to.equal(1);
        expect(compare('1.0^20160101', '1.0^20160101')).to.equal(0);
        expect(compare('1.0^20160101', '1.0.1')).to.equal(-1);
        expect(compare('1.0.1', '1.0^20160101')).to.equal(1);
        expect(compare('1.0^20160101^git1', '1.0^20160101^git1')).to.equal(0);
        expect(compare('1.0^20160102', '1.0^20160101^git1')).to.equal(1);
        expect(compare('1.0^20160101^git1', '1.0^20160102')).to.equal(-1);
        expect(compare('1.0~rc1^git1', '1.0~rc1^git1')).to.equal(0);
        expect(compare('1.0~rc1^git1', '1.0~rc1')).to.equal(1);
        expect(compare('1.0~rc1', '1.0~rc1^git1')).to.equal(-1);
        expect(compare('1.0^git1~pre', '1.0^git1~pre')).to.equal(0);
        expect(compare('1.0^git1', '1.0^git1~pre')).to.equal(1);
        expect(compare('1.0^git1~pre', '1.0^git1')).to.equal(-1);
        expect(compare('4.2.10-11', '4.2-11')).to.equal(1);
        expect(compare('4.3-2', '4.3.1-2')).to.equal(1);
        expect(compare('1.2p1-pre', '1.2-pre')).to.equal(-1);
    })
});